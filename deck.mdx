import { Notes, Head } from 'mdx-deck'

import { myTheme } from './theme'
import myFace from './images/my-face2.png'


export const theme = myTheme

<Head>
	<link href="https://pvinis.github.io/iosevka-webfont/2.3.0/webfont.css" rel="stylesheet" />
</Head>


# Upgrading React Native projects

## with Pavlos Vinieratos

#### 6 September 2019

#### React Native EU 2019

<Notes>
Thanks to RN EU!
</Notes>

---

I'm Pavlos.

I work with Sense Health making NiceDay.

pvinis on almost everything online.

I am involved with upgrade-helper, rn-diff-purge, react-native PRs and I love upgrading!

<Notes>
PR with creative names like `Crash Heaven`
</Notes>

---

I enjoy making things that:
- work
- work well
- work simply
mostly in that order.

---

<img src={myFace} />

ok

---
<!--
bio:
Hello, my name is Pavlos. Writing code is my hobby and my job. I enjoy making things that work, work well, work easy, mostly in that order!

title:
Upgrading React Native apps now and in the future.
Let's upgrade your React Native app!

abstract: (?)
Upgrading React Native projects has been a painful process since the beginning. There have been ways to make this process easier, but it’s still not as simple as running one command. What will it take to make this happen?
Let’s take a good look at the upgrading process as a whole, the hard parts, the automatic steps and everything in between.


who am i
- name
- blog
- twitter
- pvinis on most things
- i started purge, i have done some rn prs (creative names :p)

---

#### Upgrading React Native apps

- past: pain
- present: just fine
- future: easy life

---

#### Past: pain

it was the highest voted thing that people dislike about rn
people love RN.                           people love fresh RN.
people love RN.      upgrade..      people love fresh RN.
thats the dreadful part for many.
it is hard because not everyone is an expert on ios, android, js/ts eco, at the same time.
ios has cocoapods, carthage
android has gradle
js/ts has packages like babel, metro, eslint, tsc
upGrade was just change the package number, yarn install, and see if it works. some devs had ideas to automate this, and we got the original `react-native upgrade`, `rnpm upgrade`, `react-native-git-upgrade`, the rn-diff repo, rn-diff-purge. suffice it to say there were many iterations.
kept rn-diff with a list of patches genarated from upgrading a simple rn app, that other users could apply. i found that and always manually upgraded, since that way i had a good idea of what changed. after a while, that got hard to maintain, so guess what, (xkcd about the frameworks +1) i forked rn-diff and made rn-diff-purge since it had to change the gen script enough. so it was easier as a fork. i wanted it for me, as i was and am still a fan of manual upgrading.

---

#### current work

purge seems to be the most stable and consistent way to do the upgrades using this way (this way is to get the template, old and new, and compare).
purge-web is a simple interface to get the manual diffs
in 0.59 @thymikee already made rn-cli to do `react-native upgrade` using the purge way, and we will improve on this.
there is also work done @watadarkstar to take the simple purge-web and supercharge it, so users can have one place they can go, adn no matter if they prefer manual, automatic or whatever, they can get instructions to complete the upgrade.
(of course each project is unique and we can never cover everyone, but we can cover most people, and most rn core related things. everything else that someone might add, it kind of becomes their responsibility to make sure it works after an upgrade)

@ncuillery
@lucasbento
@kelset
@cpojer

---

#### future: cli, website

try the link-less for android and maybe cocoapods for ios

---

demo?

real senario
i want to upgrade!
go read the changelog first. learn about what and why of changes (or blog)
i read it, it was cool stuff, i want it!
run `react-native upgrade`
but you said its not ready yet! or it didnt work for me!
true. go to upgrade-helper do it manually
start with config and js stuff, go to ios and android after
yey done!
run your tests, manual test
yeayea let me add hooks.
do it, you have the latest version


final:
changelog
upgrade auto or manual
make sure it not broken
enjoy the new stuff




qna form?

hand-up poll:
- i have done an upgrade
- i prefer manual or i prefer auto


---

# Questions?

- sense
- links to all the others, like bento, mfik or something, etc.
- packt upgrade video?


Find me as `pvinis` on the social thing of your choice

https://pvin.is






upgrading RN EU talk

30min or 10min



why i like upgrading

give me betas and take my soul


qna form?


make a slide with stuff added in each release, and say that its also a bunch of fixes. Itterally, “a bunch”




ng the scope of this issue but if you have the desire to answer further I would appreciate the help.
Essentially react-native upgrade was not working for me so I am going the manual route. The first link you have provided for the upgrade guide is what I have been referencing.
However, it's a bit confusing.
Am I supposed to literally update the MODIFIED files by pasting in the changes?
When a file is ADDED how do you know it's proper location in the project?
For ios/Podfile which was added, do to add all of those pods somewhere specific? Or just the text above the message "All these libraries below have been removed from the Xcode project file and now live in the Podfile. Cocoapods handles the linking now. Here you can add more libraries with native modules."? What about all the pods below?
Thanks for your time. Sorry it's just that this upgrade process isn't very clear to me.







bio:
Hello, my name is Pavlos. Writing code is my hobby and my job. I enjoy making things that work, work well, work easy, mostly in that order!

title:
Upgrading React Native apps now and in the future.
Let's upgrade your React Native app!

abstract: (?)
Upgrading React Native projects has been a painful process since the beginning. There have been ways to make this process easier, but it’s still not as simple as running one command. What will it take to make this happen?
Let’s take a good look at the upgrading process as a whole, the hard parts, the automatic steps and everything in between.


who am i
- name
- blog
- twitter
- pvinis on most things
- i started purge, i have done some rn prs (creative names :p)

upgrading rn
- past: pain
- present: just fine
- future: easy life

past: pain
it was the highest voted thing that people dislike about rn
people love RN.                           people love fresh RN.
people love RN.      upgrade..      people love fresh RN.
thats the dreadful part for many.
it is hard because not everyone is an expert on ios, android, js/ts eco, at the same time.
ios has cocoapods, carthage
android has gradle
js/ts has packages like babel, metro, eslint, tsc
upGrade was just change the package number, yarn install, and see if it works. some devs had ideas to automate this, and we got the original `react-native upgrade`, `rnpm upgrade`, `react-native-git-upgrade`, the rn-diff repo, rn-diff-purge. suffice it to say there were many iterations.
kept rn-diff with a list of patches genarated from upgrading a simple rn app, that other users could apply. i found that and always manually upgraded, since that way i had a good idea of what changed. after a while, that got hard to maintain, so guess what, (xkcd about the frameworks +1) i forked rn-diff and made rn-diff-purge since it had to change the gen script enough. so it was easier as a fork. i wanted it for me, as i was and am still a fan of manual upgrading.

current work
purge seems to be the most stable and consistent way to do the upgrades using this way (this way is to get the template, old and new, and compare).
purge-web is a simple interface to get the manual diffs
in 0.59 @thymikee already made rn-cli to do `react-native upgrade` using the purge way, and we will improve on this.
there is also work done @watadarkstar to take the simple purge-web and supercharge it, so users can have one place they can go, adn no matter if they prefer manual, automatic or whatever, they can get instructions to complete the upgrade.
(of course each project is unique and we can never cover everyone, but we can cover most people, and most rn core related things. everything else that someone might add, it kind of becomes their responsibility to make sure it works after an upgrade)

@ncuillery
@lucasbento
@kelset
@cpojer

future: cli, website
try the link-less for android and maybe cocoapods for ios

demo?

real senario
i want to upgrade!
go read the changelog first. learn about what and why of changes (or blog)
i read it, it was cool stuff, i want it!
run `react-native upgrade`
but you said its not ready yet! or it didnt work for me!
true. go to upgrade-helper do it manually
start with config and js stuff, go to ios and android after
yey done!
run your tests, manual test
yeayea let me add hooks.
do it, you have the latest version


final:
changelog
upgrade auto or manual
make sure it not broken
enjoy the new stuff
 -->


<!--

hand-up poll:
- i have done an upgrade
- i prefer manual or i prefer auto

credits:
- sense
- links to all the others, like bento, mfik or something, etc.
- my blog
- my twitter and gh
- packt upgrade video?
- -->

<!--

https://medium.com/@marcelkalveram/upgrading-react-native-to-version-0-59-and-beyond-a-step-by-step-guide-d4c2926dd482 -->

<!--

'<insert github comments here for upgrading> '
<insert my comment with help how to do it>

upload to speakerdeck,
and to my website -->


<!--

- `react-native upgrade`
- open the diff and go through the files
	- first the easy files like package.json, eslintrc, gradle etc
	- trying android
	- https://github.com/react-native-community/cli/blob/master/docs/configuration.md to move rnpm to react-native.config.js
	- trying to make the android with libs without auto, work
	- -->
